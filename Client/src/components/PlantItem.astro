---
const { plant } = Astro.props;
---

<div class="plant-card">
    <div class="card-content">
        <div class="upper-card">
            <h3>{plant.name}</h3>
            <h4>{plant.botanical_name}</h4>
        </div>
        
        <div class="lower-card">
            <p class="notes">{plant.notes}</p>
            <p class="watering-info">
                <i class="fas fa-clock"></i>
                Last watered: {plant.last_watered ? 
                    new Date(plant.last_watered).toLocaleDateString() : 
                    "Not watered yet"}
            </p>
        </div>

        <div class="card-controls">
            <button class="btn water-button" data-id={plant.id}>
                <i class="fas fa-tint"></i>
                Water
            </button>
            <button class="btn delete-button" data-id={plant.id}>
                <i class="fas fa-trash"></i>
            </button>
        </div>
    </div>

    <div class="water-indicator-wrapper">
        <div class="water-indicator">
            <div 
                class="water-level" 
                data-id={plant.id} 
                style={`height: ${plant.water_level}%;
                       background-color: ${
                           plant.water_level > 50 ? '#27b0ff' :
                           plant.water_level > 25 ? '#ffaa44' : '#ff4444'
                       }`}
            ></div>
        </div>
        <span class="water-level-text">{plant.water_level}%</span>
    </div>
</div>